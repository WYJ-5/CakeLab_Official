<%- include('../partials/head', { title: 'Cake Lab - å¾Œå°å•†å“ç®¡ç†' }) %>
<style>
    /* çµ±ä¸€å…¨å¾Œå°ä½ˆå±€æ¨£å¼ - ç¢ºä¿èˆ‡ orders.ejs å®Œã€‚å…¨ã€‚ä¸€è‡´ */
    :root { --sidebar-width: 250px; --primary-color: #8b5e3c; }
    body { margin: 0; background: #f8f9fa; font-family: "Microsoft JhengHei", sans-serif; }
    
    /* é—œéµï¼šä½¿ç”¨ admin-wrapper ä¸¦è¨­å®š display: flex */
    .admin-wrapper { display: flex; min-height: 100vh; }
    
    .sidebar { width: var(--sidebar-width); background: #333; color: white; padding: 30px 0; flex-shrink: 0; display: flex; flex-direction: column; }
    .sidebar-header { padding: 0 25px 20px; border-bottom: 1px solid #444; margin-bottom: 20px; text-align: center; }
    .sidebar-header h3 { margin: 0; font-size: 1.2rem; color: white; }
    
    .nav-item { display: flex; align-items: center; padding: 12px 25px; color: #bbb; text-decoration: none; transition: 0.3s; }
    .nav-item:hover { color: white; background: #444; }
    .nav-item.active { color: white; background: #444; border-left: 4px solid var(--primary-color); }
    .logout-btn { margin-top: auto; color: #ff7675; }

    /* ä»¥ä¸‹ç¶­æŒå•†å“é åŸæœ¬çš„å³å´æ¨£å¼ï¼Œä¸æ›´å‹• */
    .main-content { flex: 1; padding: 40px; overflow-y: auto; }
    .form-box { background: white; padding: 25px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
    .admin-table { width: 100%; border-collapse: collapse; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }
    .admin-table th, .admin-table td { padding: 15px; text-align: center; border-bottom: 1px solid #f4f4f4; }
    .admin-table th { background: #f8f8f8; font-weight: 600; color: #888; text-align: left; }
    .tag-hot-admin { background: #e74c3c; color: white; padding: 3px 10px; border-radius: 20px; font-size: 11px; font-weight: bold; }
</style>

<div class="admin-wrapper">
    <nav class="sidebar">
        <div class="sidebar-header"><h3>Cake Lab å¾Œå°</h3></div>
        <a href="/admin/products" class="nav-item active">ğŸ° å•†å“ç®¡ç†</a>
        <a href="/admin/orders" class="nav-item">ğŸ“‹ è¨‚å–®ç®¡ç†</a>
        <a href="/" class="nav-item">ğŸ  å›åˆ°é¦–é </a>
        <a href="/admin/logout" class="nav-item ">ğŸšª ç™»å‡ºç³»çµ±</a>
    </nav>

    <main class="main-content">
        <h2 style="margin-bottom: 30px;">å•†å“ç®¡ç†</h2>
        <div class="form-box">
             <h4 style="margin-bottom: 20px; color: #8b5e3c;">æ–°å¢è›‹ç³•å•†å“</h4>
             <form id="addProductForm" onsubmit="addProduct(event)" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <input type="text" id="newName" placeholder="è›‹ç³•åç¨±" required style="padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                <input type="number" id="newPrice" placeholder="åƒ¹æ ¼" required style="padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                <input type="text" id="newImg" placeholder="åœ–ç‰‡è·¯å¾‘" required style="padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                <label style="display: flex; align-items: center; cursor: pointer; font-size: 0.9rem; color: #666;">
                    <input type="checkbox" id="newFeatured" style="margin-right: 10px;"> è¨­å®šç‚º HOT æ¨è–¦å•†å“
                </label>
                <textarea id="newDesc" placeholder="å•†å“ç°¡ä»‹..." style="grid-column: 1 / span 2; padding: 10px; border: 1px solid #ddd; border-radius: 6px; height: 80px;"></textarea>
                <button type="submit" style="grid-column: 1 / span 2; background: #8b5e3c; color: white; border: none; padding: 12px; border-radius: 6px; cursor: pointer; font-weight: bold;">ç¢ºèªæ–°å¢å•†å“</button>
            </form>
        </div>
        <table class="admin-table">
            <thead>
                <tr><th width="80px">ID</th><th width="100px">ç¸®åœ–</th><th>åç¨±</th><th>åƒ¹æ ¼</th><th>ç‹€æ…‹</th><th>æ“ä½œ</th></tr>
            </thead>
            <tbody id="adminProductList"></tbody>
        </table>
    </main>
</div>
<script src="/js/admin_products.js"></script>
<%- include('../partials/footer') %>